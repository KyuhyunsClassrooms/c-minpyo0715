# 4. 디버깅 보고서 (10점)

> 💡 **디버깅이란?** 프로그램에서 발생한 오류(버그)를 찾아내고 고치는 과정입니다.

---

## 📝 작성 정보
- **작성 날짜:** 2025년 10월 15일
- **작성자:** 홍길동

---

## 🐛 발견한 오류 #1

### 1) 어떤 문제가 발생했나요?
컴파일은 되는데, 실행할 때마다 **항상 같은 숫자**가 정답으로 나왔어요.

```
매번 실행해도 정답이 42로 고정되어 있었습니다.
```

### 2) 오류가 발생한 코드
```c
int generate_random() {
    // srand 함수를 호출하지 않음!
    return rand() % 100 + 1;
}
```

### 3) 왜 오류가 생겼나요?
`rand()` 함수는 매번 같은 순서로 난수를 생성해요. 
`srand(time(NULL))`을 사용해서 시간 기반으로 초기화해야 매번 다른 숫자가 나와요.

```
난수 생성기를 초기화하지 않아서 항상 같은 값이 나왔습니다.
```

### 4) 어떻게 고쳤나요?
```c
int generate_random() {
    srand(time(NULL));  // 시간 기반 난수 초기화 추가!
    return rand() % 100 + 1;
}
```

### 5) 고친 후 결과
- [x] ✅ 잘 작동해요!
- [ ] ❌ 아직 문제가 있어요

---

## 🐛 발견한 오류 #2

### 1) 어떤 문제가 발생했나요?
사용자가 문자를 입력하면 프로그램이 **무한 반복**되었어요.

```
숫자 대신 'abc'를 입력하면 계속 "숫자를 입력하세요"가 반복됨
```

### 2) 오류가 발생한 코드
```c
scanf("%d", &guess);
// 입력 버퍼를 비우지 않음!
```

### 3) 왜 오류가 생겼나요?
`scanf`가 숫자를 읽지 못하면, 잘못된 입력이 버퍼에 남아있어요.
그래서 다음 `scanf`도 같은 문자를 읽으려고 해서 무한 반복이 발생했어요.

```
입력 버퍼를 비우지 않아서 잘못된 입력이 계속 남아있었습니다.
```

### 4) 어떻게 고쳤나요?
```c
scanf("%d", &guess);
while (getchar() != '\n');  // 입력 버퍼 비우기 추가!
```

### 5) 고친 후 결과
- [x] ✅ 잘 작동해요!
- [ ] ❌ 아직 문제가 있어요

---

## 🐛 발견한 오류 #3

### 1) 어떤 문제가 발생했나요?
사용자가 200을 입력해도 "UP" 또는 "DOWN"만 나오고, 범위 경고가 안 나왔어요.

```
1~100이 아닌 숫자를 입력해도 경고 메시지가 없었어요.
```

### 2) 오류가 발생한 코드
```c
// 입력 검증 코드가 없었음!
if (guess < answer) {
    printf("UP!\n");
}
```

### 3) 왜 오류가 생겼나요?
처음에는 입력 범위를 검증하는 코드를 만들지 않았어요.
1~100 범위를 벗어난 숫자를 입력해도 그냥 비교만 했어요.

```
입력값 검증 로직이 빠져있었습니다.
```

### 4) 어떻게 고쳤나요?
```c
// 입력 범위 검증 추가!
if (guess < 1 || guess > 100) {
    printf("⚠️  1부터 100 사이의 숫자를 입력하세요!\n\n");
    tries--;  // 잘못된 입력은 횟수에서 제외
    continue;
}
```

### 5) 고친 후 결과
- [x] ✅ 잘 작동해요!
- [ ] ❌ 아직 문제가 있어요

---

## 🧪 프로그램 테스트 결과

### 테스트 1
- **무엇을 테스트했나요?** 정상적인 게임 진행
- **어떻게 테스트했나요?** 1~100 범위 내의 숫자들을 입력하여 정답을 맞춤
- **결과:** ✅ 성공

### 테스트 2
- **무엇을 테스트했나요?** 범위 밖 숫자 입력
- **어떻게 테스트했나요?** 0, 101, 200 등을 입력
- **결과:** ✅ 성공 (경고 메시지 정상 출력)

### 테스트 3
- **무엇을 테스트했나요?** 문자 입력
- **어떻게 테스트했나요?** 'abc', 'test' 등을 입력
- **결과:** ✅ 성공 (입력 버퍼 비우기로 해결)

### 테스트 4
- **무엇을 테스트했나요?** 게임 반복 기능
- **어떻게 테스트했나요?** 게임을 3번 반복 실행
- **결과:** ✅ 성공 (매번 다른 정답 생성)

---

## 💭 디버깅하면서 배운 점

```
1. rand() 함수는 srand()로 초기화해야 매번 다른 값이 나온다는 걸 배웠어요.
2. scanf 후에는 항상 입력 버퍼를 비워야 한다는 걸 알았어요.
3. 사용자 입력은 항상 검증해야 프로그램이 안전하다는 걸 깨달았어요.
4. printf로 중간값을 출력해보면 오류를 찾기 쉽다는 것을 알게 되었어요.
5. 작은 기능부터 하나씩 테스트하면 디버깅이 훨씬 쉬워요!
```

---

## ✅ 최종 체크리스트

프로그램이 잘 작동하는지 최종 확인해보세요!

- [x] 컴파일이 잘 되나요? (오류 메시지가 없나요?)
- [x] 프로그램이 실행되나요?
- [x] 매번 다른 정답이 생성되나요?
- [x] 힌트(UP/DOWN)가 정확하게 나오나요?
- [x] 정답을 맞추면 시도 횟수가 나오나요?
- [x] 게임을 반복할 수 있나요?
- [x] 잘못된 입력(문자, 범위 밖 숫자)도 잘 처리되나요?
